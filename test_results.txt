
================================================================================
开始运行测试用例 1
================================================================================
成功加载路网: 2个节点, 2条路段
成功加载交通需求: 2个OD对
总交通需求: 1500 辆/小时
执行全有全无分配...

============================================================
Test 1 - All-or-Nothing 分配结果
============================================================
总出行时间: 1078.70 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1000         1800     0.56     0.81        
BA       500          1800     0.28     0.54        
总分配流量: 1500 辆/小时
总交通需求: 1500 辆/小时

使用的路径:
路径 1: A->B
  流量: 1000 辆/小时, 行程时间: 0.81 小时
路径 2: B->A
  流量: 500 辆/小时, 行程时间: 0.54 小时
✅ 路径流量总和(1500)与总交通需求(1500)匹配良好
执行增量分配，分4步加载...

============================================================
Test 1 - Incremental 分配结果
============================================================
总出行时间: 1078.70 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1000         1800     0.56     0.81        
BA       500          1800     0.28     0.54        
总分配流量: 1500 辆/小时
总交通需求: 1500 辆/小时

使用的路径:
路径 1: A->B
  流量: 1000 辆/小时, 行程时间: 0.81 小时
路径 2: B->A
  流量: 500 辆/小时, 行程时间: 0.54 小时
✅ 路径流量总和(1500)与总交通需求(1500)匹配良好
执行Frank-Wolfe用户均衡分配...
执行全有全无分配...
初始总出行时间: 1078.70 车辆-小时

--- 迭代 1 ---
辅助流量模式总流量: 1500
当前流量模式总流量: 1500
相对对偶间隙: 0.000000
找到最优步长: 0.999967
目标函数: 770.06
总出行时间: 1078.70 车辆-小时

--- 迭代 2 ---
辅助流量模式总流量: 1500
当前流量模式总流量: 1500
相对对偶间隙: 0.000000
找到最优步长: 0.999967
目标函数: 770.06
总出行时间: 1078.70 车辆-小时

--- 迭代 3 ---
辅助流量模式总流量: 1500
当前流量模式总流量: 1500
相对对偶间隙: 0.000000
找到最优步长: 0.999967
目标函数: 770.06
总出行时间: 1078.70 车辆-小时

--- 迭代 4 ---
辅助流量模式总流量: 1500
当前流量模式总流量: 1500
相对对偶间隙: 0.000000
找到最优步长: 0.999967
目标函数: 770.06
总出行时间: 1078.70 车辆-小时

--- 迭代 5 ---
辅助流量模式总流量: 1500
当前流量模式总流量: 1500
相对对偶间隙: 0.000000
算法在 5 次迭代后收敛

最终结果:
总出行时间: 1078.70 车辆-小时
最佳总出行时间: 1078.70 车辆-小时

============================================================
Test 1 - Frank-Wolfe 分配结果
============================================================
总出行时间: 1078.70 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1000         1800     0.56     0.81        
BA       500          1800     0.28     0.54        
总分配流量: 1500 辆/小时
总交通需求: 1500 辆/小时

使用的路径:
路径 1: A->B
  流量: 1000 辆/小时, 行程时间: 0.81 小时
路径 2: B->A
  流量: 500 辆/小时, 行程时间: 0.54 小时
✅ 路径流量总和(1500)与总交通需求(1500)匹配良好

收敛迭代次数: 5

================================================================================
三种交通分配算法对比分析
================================================================================

算法性能对比:
算法名称                      总出行时间(车辆-小时)              计算复杂度           收敛性       
--------------------------------------------------------------------------------
全有全无分配                    1078.70                   低               不收敛       
增量分配                      1078.70                   中               部分收敛      
Frank-Wolfe均衡             1078.70                   高               收敛        

效率提升分析:
增量分配相比全有全无分配提升: 0.00%
Frank-Wolfe相比全有全无分配提升: 0.00%
Frank-Wolfe相比增量分配提升: 0.00%
ℹ️ Frank-Wolfe与增量分配结果相近

================================================================================
开始运行测试用例 2
================================================================================
成功加载路网: 5个节点, 14条路段
成功加载交通需求: 6个OD对
总交通需求: 5800 辆/小时
执行全有全无分配...

============================================================
Test 2 - All-or-Nothing 分配结果
============================================================
总出行时间: 8651.29 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1500         1800     0.83     1.58        
AD       1000         1800     0.56     0.81        
BA       800          1800     0.44     0.98        
BC       1500         1800     0.83     1.58        
BD       0            1800     0.00     0.33        
BE       0            3600     0.00     0.33        
CB       800          1800     0.44     0.98        
CE       0            1800     0.00     0.47        
DA       600          1800     0.33     0.59        
DB       0            1800     0.00     0.33        
DE       1000         1800     0.56     0.81        
EB       0            3600     0.00     0.33        
EC       0            1800     0.00     0.47        
ED       600          1800     0.33     0.59        
总分配流量: 7800 辆/小时
总交通需求: 5800 辆/小时

使用的路径:
路径 1: A->B->C
  流量: 1500 辆/小时, 行程时间: 3.17 小时
路径 2: C->B->A
  流量: 800 辆/小时, 行程时间: 1.97 小时
路径 3: A->D->E
  流量: 1000 辆/小时, 行程时间: 1.61 小时
路径 4: E->D->A
  流量: 600 辆/小时, 行程时间: 1.19 小时
路径 5: C
  流量: 1200 辆/小时, 行程时间: 0.00 小时
路径 6: E
  流量: 700 辆/小时, 行程时间: 0.00 小时
✅ 路径流量总和(5800)与总交通需求(5800)匹配良好
执行增量分配，分4步加载...

============================================================
Test 2 - Incremental 分配结果
============================================================
总出行时间: 7775.34 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1250         1800     0.69     1.35        
AD       1250         1800     0.69     0.96        
BA       750          1800     0.42     0.95        
BC       1125         1800     0.62     1.24        
BD       0            1800     0.00     0.33        
BE       500          3600     0.14     0.43        
CB       600          1800     0.33     0.84        
CE       200          1800     0.11     0.58        
DA       650          1800     0.36     0.62        
DB       375          1800     0.21     0.49        
DE       875          1800     0.49     0.74        
EB       150          3600     0.04     0.36        
EC       375          1800     0.21     0.69        
ED       650          1800     0.36     0.62        
总分配流量: 8750 辆/小时
总交通需求: 5800 辆/小时

使用的路径:
路径 1: A->B->C
  流量: 750 辆/小时, 行程时间: 2.60 小时
路径 2: C->B->A
  流量: 600 辆/小时, 行程时间: 1.78 小时
路径 3: A->D->E
  流量: 500 辆/小时, 行程时间: 1.69 小时
路径 4: E->D->A
  流量: 450 辆/小时, 行程时间: 1.24 小时
路径 5: C
  流量: 1200 辆/小时, 行程时间: 0.00 小时
路径 6: E
  流量: 700 辆/小时, 行程时间: 0.00 小时
路径 7: A->D->E->C
  流量: 375 辆/小时, 行程时间: 2.38 小时
路径 8: A->B->E
  流量: 500 辆/小时, 行程时间: 1.79 小时
路径 9: C->E->D->A
  流量: 200 辆/小时, 行程时间: 1.82 小时
路径 10: E->B->A
  流量: 150 辆/小时, 行程时间: 1.31 小时
路径 11: A->D->B->C
  流量: 375 辆/小时, 行程时间: 2.69 小时
✅ 路径流量总和(5800)与总交通需求(5800)匹配良好
执行Frank-Wolfe用户均衡分配...
执行全有全无分配...
初始总出行时间: 8651.29 车辆-小时

--- 迭代 1 ---
辅助流量模式总流量: 12600
当前流量模式总流量: 7800
相对对偶间隙: 0.257149
找到最优步长: 0.170018
目标函数: 5522.41
总出行时间: 7926.18 车辆-小时
找到改进解!

--- 迭代 2 ---
辅助流量模式总流量: 10100
当前流量模式总流量: 8616
相对对偶间隙: 0.086471
找到最优步长: 0.083646
目标函数: 5493.70
总出行时间: 7815.77 车辆-小时
找到改进解!

--- 迭代 3 ---
辅助流量模式总流量: 9300
当前流量模式总流量: 8740
相对对偶间隙: 0.058294
找到最优步长: 0.072236
目标函数: 5477.24
总出行时间: 7740.13 车辆-小时
找到改进解!

--- 迭代 4 ---
辅助流量模式总流量: 9300
当前流量模式总流量: 8781
相对对偶间隙: 0.022998
找到最优步长: 0.031822
目标函数: 5474.40
总出行时间: 7732.40 车辆-小时
找到改进解!

--- 迭代 5 ---
辅助流量模式总流量: 7800
当前流量模式总流量: 8797
相对对偶间隙: 0.012462
找到最优步长: 0.027144
目标函数: 5473.09
总出行时间: 7734.77 车辆-小时
找到改进解!

--- 迭代 6 ---
辅助流量模式总流量: 9300
当前流量模式总流量: 8770
相对对偶间隙: 0.013562
找到最优步长: 0.019227
目标函数: 5472.09
总出行时间: 7731.63 车辆-小时
找到改进解!

--- 迭代 7 ---
辅助流量模式总流量: 7800
当前流量模式总流量: 8780
相对对偶间隙: 0.009577
找到最优步长: 0.021080
目标函数: 5471.31
总出行时间: 7733.93 车辆-小时
找到改进解!

--- 迭代 8 ---
辅助流量模式总流量: 9300
当前流量模式总流量: 8760
相对对偶间隙: 0.010574
找到最优步长: 0.015067
目标函数: 5470.69
总出行时间: 7731.79 车辆-小时
找到改进解!

--- 迭代 9 ---
辅助流量模式总流量: 8600
当前流量模式总流量: 8768
相对对偶间隙: 0.008379
找到最优步长: 0.031410
目标函数: 5469.67
总出行时间: 7734.94 车辆-小时
找到改进解!

--- 迭代 10 ---
辅助流量模式总流量: 7800
当前流量模式总流量: 8763
相对对偶间隙: 0.006845
找到最优步长: 0.088844
目标函数: 5467.32
总出行时间: 7761.81 车辆-小时
找到改进解!

--- 迭代 11 ---
辅助流量模式总流量: 9300
当前流量模式总流量: 8677
相对对偶间隙: 0.017221
找到最优步长: 0.024079
目标函数: 5465.71
总出行时间: 7756.01 车辆-小时
找到改进解!

--- 迭代 12 ---
辅助流量模式总流量: 9300
当前流量模式总流量: 8692
相对对偶间隙: 0.009364
找到最优步长: 0.012949
目标函数: 5465.24
总出行时间: 7748.14 车辆-小时
找到改进解!
目标函数变化收敛: 0.000086 < 0.0001

最终结果:
总出行时间: 7748.14 车辆-小时
最佳总出行时间: 7748.14 车辆-小时

============================================================
Test 2 - Frank-Wolfe 分配结果
============================================================
总出行时间: 7748.14 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1239         1800     0.69     1.34        
AD       1261         1800     0.70     0.96        
BA       726          1800     0.40     0.93        
BC       1030         1800     0.57     1.17        
BD       0            1800     0.00     0.33        
BE       482          3600     0.13     0.43        
CB       643          1800     0.36     0.87        
CE       157          1800     0.09     0.56        
DA       674          1800     0.37     0.63        
DB       274          1800     0.15     0.44        
DE       987          1800     0.55     0.80        
EB       82           3600     0.02     0.35        
EC       470          1800     0.26     0.75        
ED       674          1800     0.37     0.63        
总分配流量: 8700 辆/小时
总交通需求: 5800 辆/小时

使用的路径:
路径 1: A->D->E->C
  流量: 308 辆/小时, 行程时间: 2.51 小时
路径 2: A->D->B->C
  流量: 290 辆/小时, 行程时间: 2.57 小时
路径 3: A->D->B->E->C
  流量: 287 辆/小时, 行程时间: 2.58 小时
路径 4: A->B->C
  流量: 309 辆/小时, 行程时间: 2.51 小时
路径 5: A->B->E->C
  流量: 305 辆/小时, 行程时间: 2.52 小时
路径 6: C->B->A
  流量: 165 辆/小时, 行程时间: 1.80 小时
路径 7: C->B->D->A
  流量: 160 辆/小时, 行程时间: 1.83 小时
路径 8: C->E->D->A
  流量: 162 辆/小时, 行程时间: 1.82 小时
路径 9: C->E->B->A
  流量: 159 辆/小时, 行程时间: 1.83 小时
路径 10: C->E->B->D->A
  流量: 154 辆/小时, 行程时间: 1.87 小时
路径 11: A->D->E
  流量: 342 辆/小时, 行程时间: 1.76 小时
路径 12: A->D->B->E
  流量: 319 辆/小时, 行程时间: 1.83 小时
路径 13: A->B->E
  流量: 339 辆/小时, 行程时间: 1.77 小时
路径 14: E->D->A
  流量: 205 辆/小时, 行程时间: 1.26 小时
路径 15: E->B->A
  流量: 201 辆/小时, 行程时间: 1.28 小时
路径 16: E->B->D->A
  流量: 194 辆/小时, 行程时间: 1.31 小时
路径 17: C
  流量: 1200 辆/小时, 行程时间: 0.00 小时
路径 18: E
  流量: 700 辆/小时, 行程时间: 0.00 小时
✅ 路径流量总和(5800)与总交通需求(5800)匹配良好

收敛迭代次数: 12

================================================================================
三种交通分配算法对比分析
================================================================================

算法性能对比:
算法名称                      总出行时间(车辆-小时)              计算复杂度           收敛性       
--------------------------------------------------------------------------------
全有全无分配                    8651.29                   低               不收敛       
增量分配                      7775.34                   中               部分收敛      
Frank-Wolfe均衡             7748.14                   高               收敛        

效率提升分析:
增量分配相比全有全无分配提升: 10.13%
Frank-Wolfe相比全有全无分配提升: 10.44%
Frank-Wolfe相比增量分配提升: 0.35%
✅ Frank-Wolfe达到预期效果，优于增量分配

================================================================================
开始运行测试用例 3
================================================================================
成功加载路网: 9个节点, 24条路段
成功加载交通需求: 9个OD对
总交通需求: 9200 辆/小时
执行全有全无分配...

============================================================
Test 3 - All-or-Nothing 分配结果
============================================================
总出行时间: 28778.86 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       3000         1800     1.67     2.37        
AD       0            1800     0.00     0.33        
BA       1500         1800     0.83     1.12        
BC       2200         1800     1.22     1.65        
BE       3700         3600     1.03     0.69        
CB       800          1800     0.44     0.70        
CF       0            1800     0.00     0.33        
DA       0            1800     0.00     0.33        
DE       1200         1800     0.67     0.93        
DG       800          1800     0.44     0.70        
EB       3400         3600     0.94     0.63        
ED       800          1800     0.44     0.70        
EF       2000         3600     0.56     0.40        
EH       900          1800     0.50     0.75        
FC       0            1800     0.00     0.33        
FE       1500         3600     0.42     0.33        
FI       2000         1800     1.11     1.49        
GD       1200         1800     0.67     0.93        
GH       0            1800     0.00     0.33        
HE       700          1800     0.39     0.64        
HG       600          1800     0.33     0.59        
HI       0            1800     0.00     0.33        
IF       1500         1800     0.83     1.12        
IH       600          1800     0.33     0.59        
总分配流量: 28400 辆/小时
总交通需求: 9200 辆/小时

使用的路径:
路径 1: A->B->E->F->I
  流量: 2000 辆/小时, 行程时间: 4.94 小时
路径 2: I->F->E->B->A
  流量: 1500 辆/小时, 行程时间: 3.21 小时
路径 3: C->B->E->D->G
  流量: 800 辆/小时, 行程时间: 2.77 小时
路径 4: G->D->E->B->C
  流量: 1200 辆/小时, 行程时间: 4.13 小时
路径 5: A->B->C
  流量: 1000 辆/小时, 行程时间: 4.02 小时
路径 6: I->H->G
  流量: 600 辆/小时, 行程时间: 1.19 小时
路径 7: B->E->H
  流量: 900 辆/小时, 行程时间: 1.44 小时
路径 8: H->E->B
  流量: 700 辆/小时, 行程时间: 1.27 小时
路径 9: E
  流量: 500 辆/小时, 行程时间: 0.00 小时
✅ 路径流量总和(9200)与总交通需求(9200)匹配良好
执行增量分配，分4步加载...

============================================================
Test 3 - Incremental 分配结果
============================================================
总出行时间: 21902.95 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2000         1800     1.11     1.49        
AD       1000         1800     0.56     0.81        
BA       1125         1800     0.62     0.88        
BC       1300         1800     0.72     0.99        
BE       2300         3600     0.64     0.45        
CB       400          1800     0.22     0.50        
CF       400          1800     0.22     0.50        
DA       375          1800     0.21     0.49        
DE       1200         1800     0.67     0.93        
DG       1400         1800     0.78     1.05        
EB       2125         3600     0.59     0.42        
ED       775          1800     0.43     0.68        
EF       1900         3600     0.53     0.39        
EH       1300         1800     0.72     0.99        
FC       900          1800     0.50     0.75        
FE       1525         3600     0.42     0.34        
FI       1000         1800     0.56     0.81        
GD       1200         1800     0.67     0.93        
GH       1000         1800     0.56     0.81        
HE       1075         1800     0.60     0.85        
HG       1000         1800     0.56     0.81        
HI       1000         1800     0.56     0.81        
IF       1125         1800     0.62     0.88        
IH       975          1800     0.54     0.79        
总分配流量: 28400 辆/小时
总交通需求: 9200 辆/小时

使用的路径:
路径 1: A->B->E->F->I
  流量: 1000 辆/小时, 行程时间: 3.13 小时
路径 2: I->F->E->B->A
  流量: 1125 辆/小时, 行程时间: 2.52 小时
路径 3: C->F->E->D->G
  流量: 200 辆/小时, 行程时间: 2.57 小时
路径 4: G->D->E->B->C
  流量: 300 辆/小时, 行程时间: 3.26 小时
路径 5: A->B->C
  流量: 1000 辆/小时, 行程时间: 2.47 小时
路径 6: I->H->G
  流量: 600 辆/小时, 行程时间: 1.60 小时
路径 7: B->E->H
  流量: 900 辆/小时, 行程时间: 1.44 小时
路径 8: H->E->B
  流量: 700 辆/小时, 行程时间: 1.27 小时
路径 9: E
  流量: 500 辆/小时, 行程时间: 0.00 小时
路径 10: A->D->G->H->I
  流量: 1000 辆/小时, 行程时间: 3.47 小时
路径 11: C->B->E->H->G
  流量: 200 辆/小时, 行程时间: 2.74 小时
路径 12: G->D->E->F->C
  流量: 900 辆/小时, 行程时间: 2.99 小时
路径 13: I->H->E->D->A
  流量: 375 辆/小时, 行程时间: 2.81 小时
路径 14: C->F->E->H->G
  流量: 200 辆/小时, 行程时间: 2.63 小时
路径 15: C->B->E->D->G
  流量: 200 辆/小时, 行程时间: 2.68 小时
✅ 路径流量总和(9200)与总交通需求(9200)匹配良好
执行Frank-Wolfe用户均衡分配...
执行全有全无分配...
初始总出行时间: 28778.86 车辆-小时

--- 迭代 1 ---
辅助流量模式总流量: 30400
当前流量模式总流量: 28400
相对对偶间隙: 0.466920
找到最优步长: 0.314169
目标函数: 14875.76
总出行时间: 22819.55 车辆-小时
找到改进解!

--- 迭代 2 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 29028
相对对偶间隙: 0.081622
找到最优步长: 0.229198
目标函数: 14662.44
总出行时间: 22248.15 车辆-小时
找到改进解!

--- 迭代 3 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28884
相对对偶间隙: 0.072172
找到最优步长: 0.188050
目标函数: 14511.38
总出行时间: 21996.01 车辆-小时
找到改进解!

--- 迭代 4 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28793
相对对偶间隙: 0.048831
找到最优步长: 0.122512
目标函数: 14445.46
总出行时间: 21863.51 车辆-小时
找到改进解!

--- 迭代 5 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28745
相对对偶间隙: 0.041557
找到最优步长: 0.080886
目标函数: 14408.60
总出行时间: 21748.36 车辆-小时
找到改进解!

--- 迭代 6 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28717
相对对偶间隙: 0.023373
找到最优步长: 0.114702
目标函数: 14379.47
总出行时间: 21772.93 车辆-小时
找到改进解!

--- 迭代 7 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28681
相对对偶间隙: 0.024353
找到最优步长: 0.047804
目标函数: 14366.78
总出行时间: 21705.94 车辆-小时
找到改进解!

--- 迭代 8 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28667
相对对偶间隙: 0.019083
找到最优步长: 0.053603
目标函数: 14355.66
总出行时间: 21687.37 车辆-小时
找到改进解!

--- 迭代 9 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28653
相对对偶间隙: 0.013997
找到最优步长: 0.029664
目标函数: 14351.16
总出行时间: 21665.41 车辆-小时
找到改进解!

--- 迭代 10 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28646
相对对偶间隙: 0.016202
找到最优步长: 0.050522
目标函数: 14342.29
总出行时间: 21665.08 车辆-小时
找到改进解!

--- 迭代 11 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28633
相对对偶间隙: 0.012274
找到最优步长: 0.027144
目标函数: 14338.67
总出行时间: 21645.71 车辆-小时
找到改进解!

--- 迭代 12 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28627
相对对偶间隙: 0.012492
找到最优步长: 0.065918
目标函数: 14329.76
总出行时间: 21674.44 车辆-小时
找到改进解!

--- 迭代 13 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28612
相对对偶间隙: 0.013544
找到最优步长: 0.028651
目标函数: 14325.56
总出行时间: 21652.02 车辆-小时
找到改进解!

--- 迭代 14 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28606
相对对偶间隙: 0.015194
找到最优步长: 0.043166
目标函数: 14318.45
总出行时间: 21639.41 车辆-小时
找到改进解!

--- 迭代 15 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28597
相对对偶间隙: 0.010936
找到最优步长: 0.018881
目标函数: 14316.21
总出行时间: 21619.44 车辆-小时
找到改进解!

--- 迭代 16 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28593
相对对偶间隙: 0.009411
找到最优步长: 0.046831
目标函数: 14311.45
总出行时间: 21642.54 车辆-小时
找到改进解!

--- 迭代 17 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28584
相对对偶间隙: 0.011219
找到最优步长: 0.019120
目标函数: 14309.13
总出行时间: 21621.57 车辆-小时
找到改进解!

--- 迭代 18 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28581
相对对偶间隙: 0.010136
找到最优步长: 0.014762
目标函数: 14307.51
总出行时间: 21608.00 车辆-小时
找到改进解!

--- 迭代 19 ---
辅助流量模式总流量: 28400
当前流量模式总流量: 28578
相对对偶间隙: 0.005951
找到最优步长: 0.015067
目标函数: 14306.54
总出行时间: 21599.38 车辆-小时
找到改进解!
目标函数变化收敛: 0.000068 < 0.0001

最终结果:
总出行时间: 21599.38 车辆-小时
最佳总出行时间: 21599.38 车辆-小时

============================================================
Test 3 - Frank-Wolfe 分配结果
============================================================
总出行时间: 21599.38 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1880         1800     1.04     1.39        
AD       1120         1800     0.62     0.88        
BA       1064         1800     0.59     0.84        
BC       1160         1800     0.64     0.90        
BE       2198         3600     0.61     0.43        
CB       330          1800     0.18     0.47        
CF       470          1800     0.26     0.53        
DA       436          1800     0.24     0.51        
DE       1273         1800     0.71     0.97        
DG       1228         1800     0.68     0.94        
EB       2011         3600     0.56     0.40        
ED       915          1800     0.51     0.76        
EF       2312         3600     0.64     0.45        
EH       1200         1800     0.67     0.93        
FC       1040         1800     0.58     0.83        
FE       1817         3600     0.50     0.38        
FI       1272         1800     0.71     0.97        
GD       903          1800     0.50     0.75        
GH       1047         1800     0.58     0.83        
HE       1151         1800     0.64     0.90        
HG       922          1800     0.51     0.76        
HI       728          1800     0.40     0.66        
IF       1347         1800     0.75     1.02        
IH       753          1800     0.42     0.67        
总分配流量: 28575 辆/小时
总交通需求: 9200 辆/小时

使用的路径:
路径 1: A->B->E->F->I
  流量: 686 辆/小时, 行程时间: 3.25 小时
路径 2: A->D->E->F->I
  流量: 671 辆/小时, 行程时间: 3.27 小时
路径 3: A->D->G->H->I
  流量: 643 辆/小时, 行程时间: 3.31 小时
路径 4: I->F->E->B->A
  流量: 513 辆/小时, 行程时间: 2.64 小时
路径 5: I->F->E->D->A
  流量: 501 辆/小时, 行程时间: 2.67 小时
路径 6: I->H->G->D->A
  流量: 486 辆/小时, 行程时间: 2.70 小时
路径 7: C->B->E->H->G
  流量: 202 辆/小时, 行程时间: 2.59 小时
路径 8: C->B->E->D->G
  流量: 200 辆/小时, 行程时间: 2.60 小时
路径 9: C->F->E->H->G
  流量: 200 辆/小时, 行程时间: 2.60 小时
路径 10: C->F->E->D->G
  流量: 198 辆/小时, 行程时间: 2.61 小时
路径 11: G->D->E->B->C
  流量: 297 辆/小时, 行程时间: 3.03 小时
路径 12: G->D->E->F->C
  流量: 305 辆/小时, 行程时间: 3.00 小时
路径 13: G->H->E->B->C
  流量: 295 辆/小时, 行程时间: 3.04 小时
路径 14: G->H->E->F->C
  流量: 303 辆/小时, 行程时间: 3.01 小时
路径 15: A->B->C
  流量: 1000 辆/小时, 行程时间: 2.29 小时
路径 16: I->H->G
  流量: 600 辆/小时, 行程时间: 1.43 小时
路径 17: B->E->H
  流量: 900 辆/小时, 行程时间: 1.36 小时
路径 18: H->E->B
  流量: 700 辆/小时, 行程时间: 1.30 小时
路径 19: E
  流量: 500 辆/小时, 行程时间: 0.00 小时
✅ 路径流量总和(9200)与总交通需求(9200)匹配良好

收敛迭代次数: 19

================================================================================
三种交通分配算法对比分析
================================================================================

算法性能对比:
算法名称                      总出行时间(车辆-小时)              计算复杂度           收敛性       
--------------------------------------------------------------------------------
全有全无分配                    28778.86                  低               不收敛       
增量分配                      21902.95                  中               部分收敛      
Frank-Wolfe均衡             21599.38                  高               收敛        

效率提升分析:
增量分配相比全有全无分配提升: 23.89%
Frank-Wolfe相比全有全无分配提升: 24.95%
Frank-Wolfe相比增量分配提升: 1.39%
✅ Frank-Wolfe达到预期效果，优于增量分配

================================================================================
开始运行测试用例 4
================================================================================
成功加载路网: 4个节点, 8条路段
成功加载交通需求: 3个OD对
总交通需求: 4500 辆/小时
执行全有全无分配...

============================================================
Test 4 - All-or-Nothing 分配结果
============================================================
总出行时间: 7584.81 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2000         1800     1.11     1.49        
BA       0            1800     0.00     0.33        
BC       2000         1800     1.11     1.49        
BD       1500         3600     0.42     0.33        
CB       0            1800     0.00     0.33        
CD       1000         1800     0.56     1.14        
DB       0            3600     0.00     0.17        
DC       0            1800     0.00     0.47        
总分配流量: 6500 辆/小时
总交通需求: 4500 辆/小时

使用的路径:
路径 1: A->B->C
  流量: 2000 辆/小时, 行程时间: 2.97 小时
路径 2: C->D
  流量: 1000 辆/小时, 行程时间: 1.14 小时
路径 3: B->D
  流量: 1500 辆/小时, 行程时间: 0.33 小时
✅ 路径流量总和(4500)与总交通需求(4500)匹配良好
执行增量分配，分4步加载...

============================================================
Test 4 - Incremental 分配结果
============================================================
总出行时间: 6844.47 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2000         1800     1.11     1.49        
BA       0            1800     0.00     0.33        
BC       1500         1800     0.83     1.12        
BD       2250         3600     0.62     0.44        
CB       250          1800     0.14     0.43        
CD       750          1800     0.42     0.95        
DB       0            3600     0.00     0.17        
DC       500          1800     0.28     0.77        
总分配流量: 7250 辆/小时
总交通需求: 4500 辆/小时

使用的路径:
路径 1: A->B->C
  流量: 1500 辆/小时, 行程时间: 2.61 小时
路径 2: C->D
  流量: 750 辆/小时, 行程时间: 0.95 小时
路径 3: B->D
  流量: 1500 辆/小时, 行程时间: 0.44 小时
路径 4: C->B->D
  流量: 250 辆/小时, 行程时间: 0.87 小时
路径 5: A->B->D->C
  流量: 500 辆/小时, 行程时间: 2.70 小时
✅ 路径流量总和(4500)与总交通需求(4500)匹配良好
执行Frank-Wolfe用户均衡分配...
执行全有全无分配...
初始总出行时间: 7584.81 车辆-小时

--- 迭代 1 ---
辅助流量模式总流量: 9500
当前流量模式总流量: 6500
相对对偶间隙: 0.241570
找到最优步长: 0.236702
目标函数: 4295.67
总出行时间: 6855.38 车辆-小时
找到改进解!

--- 迭代 2 ---
辅助流量模式总流量: 7500
当前流量模式总流量: 7210
相对对偶间隙: 0.013874
找到最优步长: 0.096002
目标函数: 4291.11
总出行时间: 6864.59 车辆-小时
找到改进解!

--- 迭代 3 ---
辅助流量模式总流量: 9500
当前流量模式总流量: 7238
相对对偶间隙: 0.002717
找到最优步长: 0.004020
目标函数: 4291.08
总出行时间: 6861.51 车辆-小时
找到改进解!

--- 迭代 4 ---
辅助流量模式总流量: 7500
当前流量模式总流量: 7247
相对对偶间隙: 0.000154
找到最优步长: 0.001285
目标函数: 4291.07
总出行时间: 6861.75 车辆-小时
找到改进解!

--- 迭代 5 ---
辅助流量模式总流量: 9500
当前流量模式总流量: 7247
相对对偶间隙: 0.000053
算法在 5 次迭代后收敛

最终结果:
总出行时间: 6861.75 车辆-小时
最佳总出行时间: 6861.75 车辆-小时

============================================================
Test 4 - Frank-Wolfe 分配结果
============================================================
总出行时间: 6861.75 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2000         1800     1.11     1.49        
BA       0            1800     0.00     0.33        
BC       1566         1800     0.87     1.17        
BD       2247         3600     0.62     0.44        
CB       314          1800     0.17     0.46        
CD       686          1800     0.38     0.90        
DB       0            3600     0.00     0.17        
DC       434          1800     0.24     0.73        
总分配流量: 7247 辆/小时
总交通需求: 4500 辆/小时

使用的路径:
路径 1: A->B->C
  流量: 1000 辆/小时, 行程时间: 2.65 小时
路径 2: A->B->D->C
  流量: 1000 辆/小时, 行程时间: 2.65 小时
路径 3: C->D
  流量: 500 辆/小时, 行程时间: 0.90 小时
路径 4: C->B->D
  流量: 500 辆/小时, 行程时间: 0.90 小时
路径 5: B->D
  流量: 1500 辆/小时, 行程时间: 0.44 小时
✅ 路径流量总和(4500)与总交通需求(4500)匹配良好

收敛迭代次数: 5

================================================================================
三种交通分配算法对比分析
================================================================================

算法性能对比:
算法名称                      总出行时间(车辆-小时)              计算复杂度           收敛性       
--------------------------------------------------------------------------------
全有全无分配                    7584.81                   低               不收敛       
增量分配                      6844.47                   中               部分收敛      
Frank-Wolfe均衡             6861.75                   高               收敛        

效率提升分析:
增量分配相比全有全无分配提升: 9.76%
Frank-Wolfe相比全有全无分配提升: 9.53%
Frank-Wolfe相比增量分配提升: -0.25%
ℹ️ Frank-Wolfe与增量分配结果相近

================================================================================
开始运行测试用例 5
================================================================================
成功加载路网: 12个节点, 34条路段
成功加载交通需求: 12个OD对
总交通需求: 12700 辆/小时
执行全有全无分配...

============================================================
Test 5 - All-or-Nothing 分配结果
============================================================
总出行时间: 62700.32 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       3700         1800     2.06     3.11        
AE       0            1800     0.00     0.33        
BA       2300         1800     1.28     1.73        
BC       1900         3600     0.53     0.39        
BF       4400         3600     1.22     0.82        
CB       1600         3600     0.44     0.35        
CD       1200         1800     0.67     0.93        
CG       0            1800     0.00     0.33        
DC       800          1800     0.44     0.70        
DH       0            1800     0.00     0.33        
EA       0            1800     0.00     0.33        
EF       1000         1800     0.56     0.81        
EI       0            1800     0.00     0.33        
FB       3100         3600     0.86     0.58        
FE       600          1800     0.33     0.59        
FG       4600         3600     1.28     0.86        
FJ       800          3600     0.22     0.25        
GC       0            1800     0.00     0.33        
GF       3000         3600     0.83     0.56        
GH       1000         1800     0.56     0.81        
GK       3600         1800     2.00     3.00        
HD       0            1800     0.00     0.33        
HG       600          1800     0.33     0.59        
HL       0            1800     0.00     0.33        
IE       0            1800     0.00     0.33        
IJ       900          1800     0.50     0.75        
JF       700          3600     0.19     0.24        
JI       700          1800     0.39     0.64        
JK       900          1800     0.50     0.75        
KG       2400         1800     1.33     1.81        
KJ       700          1800     0.39     0.64        
KL       3400         1800     1.89     2.78        
LH       0            1800     0.00     0.33        
LK       2200         1800     1.22     1.65        
总分配流量: 46100 辆/小时
总交通需求: 12700 辆/小时

使用的路径:
路径 1: A->B->F->G->K->L
  流量: 2500 辆/小时, 行程时间: 10.58 小时
路径 2: L->K->G->F->B->A
  流量: 1500 辆/小时, 行程时间: 6.33 小时
路径 3: A->B->C->D
  流量: 1200 辆/小时, 行程时间: 4.43 小时
路径 4: D->C->B->A
  流量: 800 辆/小时, 行程时间: 2.77 小时
路径 5: E->F->G->H
  流量: 1000 辆/小时, 行程时间: 2.48 小时
路径 6: H->G->F->E
  流量: 600 辆/小时, 行程时间: 1.75 小时
路径 7: I->J->K->L
  流量: 900 辆/小时, 行程时间: 4.28 小时
路径 8: L->K->J->I
  流量: 700 辆/小时, 行程时间: 2.93 小时
路径 9: B->F->G->K
  流量: 1100 辆/小时, 行程时间: 4.69 小时
路径 10: K->G->F->B
  流量: 900 辆/小时, 行程时间: 2.95 小时
路径 11: C->B->F->J
  流量: 800 辆/小时, 行程时间: 1.42 小时
路径 12: J->F->B->C
  流量: 700 辆/小时, 行程时间: 1.20 小时
✅ 路径流量总和(12700)与总交通需求(12700)匹配良好
执行增量分配，分4步加载...

============================================================
Test 5 - Incremental 分配结果
============================================================
总出行时间: 40941.02 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2450         1800     1.36     1.86        
AE       1250         1800     0.69     0.96        
BA       1550         1800     0.86     1.15        
BC       2625         3600     0.73     0.50        
BF       2250         3600     0.62     0.44        
CB       1975         3600     0.55     0.40        
CD       1825         1800     1.01     1.35        
CG       275          1800     0.15     0.44        
DC       1175         1800     0.65     0.91        
DH       625          1800     0.35     0.61        
EA       750          1800     0.42     0.67        
EF       1625         1800     0.90     1.21        
EI       625          1800     0.35     0.61        
FB       1800         3600     0.50     0.38        
FE       1350         1800     0.75     1.02        
FG       2700         3600     0.75     0.51        
FJ       1350         3600     0.38     0.32        
GC       175          1800     0.10     0.40        
GF       1950         3600     0.54     0.40        
GH       1625         1800     0.90     1.21        
GK       1175         1800     0.65     0.91        
HD       375          1800     0.21     0.49        
HG       975          1800     0.54     0.79        
HL       1250         1800     0.69     0.96        
IE       0            1800     0.00     0.33        
IJ       1525         1800     0.85     1.14        
JF       1375         3600     0.38     0.32        
JI       700          1800     0.39     0.64        
JK       2075         1800     1.15     1.54        
KG       975          1800     0.54     0.79        
KJ       1375         1800     0.76     1.04        
KL       2150         1800     1.19     1.61        
LH       750          1800     0.42     0.67        
LK       1450         1800     0.81     1.09        
总分配流量: 46100 辆/小时
总交通需求: 12700 辆/小时

使用的路径:
路径 1: A->B->F->G->K->L
  流量: 625 辆/小时, 行程时间: 5.32 小时
路径 2: L->K->G->F->B->A
  流量: 375 辆/小时, 行程时间: 3.80 小时
路径 3: A->B->C->D
  流量: 1200 辆/小时, 行程时间: 3.71 小时
路径 4: D->C->B->A
  流量: 800 辆/小时, 行程时间: 2.46 小时
路径 5: E->F->G->H
  流量: 1000 辆/小时, 行程时间: 2.92 小时
路径 6: H->G->F->E
  流量: 600 辆/小时, 行程时间: 2.21 小时
路径 7: I->J->K->L
  流量: 900 辆/小时, 行程时间: 4.29 小时
路径 8: L->K->J->I
  流量: 700 辆/小时, 行程时间: 2.77 小时
路径 9: B->F->J->K
  流量: 550 辆/小时, 行程时间: 2.30 小时
路径 10: K->J->F->B
  流量: 675 辆/小时, 行程时间: 1.73 小时
路径 11: C->B->F->J
  流量: 800 辆/小时, 行程时间: 1.15 小时
路径 12: J->F->B->C
  流量: 525 辆/小时, 行程时间: 1.19 小时
路径 13: A->E->F->G->H->L
  流量: 625 辆/小时, 行程时间: 4.84 小时
路径 14: L->H->G->F->E->A
  流量: 375 辆/小时, 行程时间: 3.55 小时
路径 15: K->G->F->B
  流量: 225 辆/小时, 行程时间: 1.56 小时
路径 16: A->B->C->D->H->L
  流量: 625 辆/小时, 行程时间: 5.27 小时
路径 17: L->H->D->C->B->A
  流量: 375 辆/小时, 行程时间: 3.62 小时
路径 18: B->C->G->K
  流量: 275 辆/小时, 行程时间: 1.85 小时
路径 19: J->F->G->C
  流量: 175 辆/小时, 行程时间: 1.23 小时
路径 20: A->E->I->J->K->L
  流量: 625 辆/小时, 行程时间: 5.85 小时
路径 21: L->K->G->F->E->A
  流量: 375 辆/小时, 行程时间: 3.96 小时
路径 22: B->F->G->K
  流量: 275 辆/小时, 行程时间: 1.86 小时
✅ 路径流量总和(12700)与总交通需求(12700)匹配良好
执行Frank-Wolfe用户均衡分配...
执行全有全无分配...
初始总出行时间: 62700.32 车辆-小时

--- 迭代 1 ---
辅助流量模式总流量: 53300
当前流量模式总流量: 46100
相对对偶间隙: 0.521471
找到最优步长: 0.336387
目标函数: 28190.38
总出行时间: 47427.08 车辆-小时
找到改进解!

--- 迭代 2 ---
辅助流量模式总流量: 51300
当前流量模式总流量: 48522
相对对偶间隙: 0.235386
找到最优步长: 0.214601
目标函数: 26984.00
总出行时间: 44132.22 车辆-小时
找到改进解!

--- 迭代 3 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 49118
相对对偶间隙: 0.145928
找到最优步长: 0.188651
目标函数: 26369.85
总出行时间: 42478.69 车辆-小时
找到改进解!

--- 迭代 4 ---
辅助流量模式总流量: 47900
当前流量模式总流量: 48549
相对对偶间隙: 0.080949
找到最优步长: 0.121646
目标函数: 26159.99
总出行时间: 41967.65 车辆-小时
找到改进解!

--- 迭代 5 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 48470
相对对偶间隙: 0.053093
找到最优步长: 0.100640
目标函数: 26047.46
总出行时间: 41843.82 车辆-小时
找到改进解!

--- 迭代 6 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 48231
相对对偶间隙: 0.043547
找到最优步长: 0.088844
目标函数: 25966.03
总出行时间: 41700.45 车辆-小时
找到改进解!

--- 迭代 7 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 48042
相对对偶间隙: 0.035122
找到最优步长: 0.077887
目标函数: 25908.83
总出行时间: 41603.89 车辆-小时
找到改进解!

--- 迭代 8 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47891
相对对偶间隙: 0.040619
找到最优步长: 0.091776
目标函数: 25831.10
总出行时间: 41485.01 车辆-小时
找到改进解!

--- 迭代 9 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47726
相对对偶间隙: 0.035583
找到最优步长: 0.104413
目标函数: 25753.84
总出行时间: 41341.33 车辆-小时
找到改进解!

--- 迭代 10 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47557
相对对偶间隙: 0.039240
找到最优步长: 0.080153
目标函数: 25688.58
总出行时间: 41137.83 车辆-小时
找到改进解!

--- 迭代 11 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47440
相对对偶间隙: 0.032678
找到最优步长: 0.088457
目标函数: 25628.96
总出行时间: 41082.73 车辆-小时
找到改进解!

--- 迭代 12 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47321
相对对偶间隙: 0.021577
找到最优步长: 0.049896
目标函数: 25606.79
总出行时间: 41016.95 车辆-小时
找到改进解!

--- 迭代 13 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47260
相对对偶间隙: 0.026005
找到最优步长: 0.073530
目标函数: 25567.53
总出行时间: 41009.90 车辆-小时
找到改进解!

--- 迭代 14 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47175
相对对偶间隙: 0.027980
找到最优步长: 0.062706
目标函数: 25531.48
总出行时间: 40926.54 车辆-小时
找到改进解!

--- 迭代 15 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47108
相对对偶间隙: 0.016972
找到最优步长: 0.035702
目标函数: 25519.07
总出行时间: 40903.29 车辆-小时
找到改进解!

--- 迭代 16 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47072
相对对偶间隙: 0.015922
找到最优步长: 0.028651
目标函数: 25509.72
总出行时间: 40871.96 车辆-小时
找到改进解!

--- 迭代 17 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 47044
相对对偶间隙: 0.017180
找到最优步长: 0.048603
目标函数: 25492.63
总出行时间: 40852.24 车辆-小时
找到改进解!

--- 迭代 18 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46998
相对对偶间隙: 0.018971
找到最优步长: 0.042926
目标函数: 25475.97
总出行时间: 40839.27 车辆-小时
找到改进解!

--- 迭代 19 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46959
相对对偶间隙: 0.017783
找到最优步长: 0.055588
目标函数: 25455.78
总出行时间: 40850.76 车辆-小时
找到改进解!

--- 迭代 20 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46912
相对对偶间隙: 0.017670
找到最优步长: 0.040752
目标函数: 25441.05
总出行时间: 40797.32 车辆-小时
找到改进解!

--- 迭代 21 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46879
相对对偶间隙: 0.014936
找到最优步长: 0.039887
目标函数: 25428.88
总出行时间: 40749.77 车辆-小时
找到改进解!

--- 迭代 22 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46848
相对对偶间隙: 0.015476
找到最优步长: 0.044352
目标函数: 25414.87
总出行时间: 40750.23 车辆-小时
找到改进解!

--- 迭代 23 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46814
相对对偶间隙: 0.014788
找到最优步长: 0.033289
目标函数: 25404.83
总出行时间: 40730.32 车辆-小时
找到改进解!

--- 迭代 24 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46791
相对对偶间隙: 0.013449
找到最优步长: 0.039088
目标函数: 25394.12
总出行时间: 40746.74 车辆-小时
找到改进解!

--- 迭代 25 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46764
相对对偶间隙: 0.015451
找到最优步长: 0.035381
目标函数: 25382.97
总出行时间: 40691.11 车辆-小时
找到改进解!

--- 迭代 26 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46740
相对对偶间隙: 0.010263
找到最优步长: 0.026772
目标函数: 25377.38
总出行时间: 40696.90 车辆-小时
找到改进解!

--- 迭代 27 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46723
相对对偶间隙: 0.012448
找到最优步长: 0.029145
目标函数: 25369.99
总出行时间: 40684.45 车辆-小时
找到改进解!

--- 迭代 28 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46705
相对对偶间隙: 0.011681
找到最优步长: 0.027984
目标函数: 25363.34
总出行时间: 40686.58 车辆-小时
找到改进解!

--- 迭代 29 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46688
相对对偶间隙: 0.009255
找到最优步长: 0.021665
目标函数: 25359.25
总出行时间: 40658.96 车辆-小时
找到改进解!

--- 迭代 30 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46675
相对对偶间隙: 0.010327
找到最优步长: 0.030743
目标函数: 25352.80
总出行时间: 40647.68 车辆-小时
找到改进解!

--- 迭代 31 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46657
相对对偶间隙: 0.012022
找到最优步长: 0.027424
目标函数: 25346.09
总出行时间: 40631.87 车辆-小时
找到改进解!

--- 迭代 32 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46642
相对对偶间隙: 0.011496
找到最优步长: 0.030224
目标函数: 25339.02
总出行时间: 40656.43 车辆-小时
找到改进解!

--- 迭代 33 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46626
相对对偶间隙: 0.010246
找到最优步长: 0.017720
目标函数: 25335.33
总出行时间: 40637.48 车辆-小时
找到改进解!

--- 迭代 34 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46616
相对对偶间隙: 0.010150
找到最优步长: 0.030142
目标函数: 25329.11
总出行时间: 40625.32 车辆-小时
找到改进解!

--- 迭代 35 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46601
相对对偶间隙: 0.009619
找到最优步长: 0.024746
目标函数: 25324.27
总出行时间: 40620.43 车辆-小时
找到改进解!

--- 迭代 36 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46589
相对对偶间隙: 0.008412
找到最优步长: 0.020586
目标函数: 25320.75
总出行时间: 40639.24 车辆-小时
找到改进解!

--- 迭代 37 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46578
相对对偶间隙: 0.008969
找到最优步长: 0.016467
目标函数: 25317.75
总出行时间: 40622.36 车辆-小时
找到改进解!

--- 迭代 38 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46571
相对对偶间隙: 0.009652
找到最优步长: 0.024919
目标函数: 25312.86
总出行时间: 40591.32 车辆-小时
找到改进解!

--- 迭代 39 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46559
相对对偶间隙: 0.008035
找到最优步长: 0.015907
目标函数: 25310.26
总出行时间: 40592.53 车辆-小时
找到改进解!

--- 迭代 40 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46552
相对对偶间隙: 0.007885
找到最优步长: 0.024664
目标函数: 25306.31
总出行时间: 40607.25 车辆-小时
找到改进解!

--- 迭代 41 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46540
相对对偶间隙: 0.008096
找到最优步长: 0.019960
目标函数: 25303.02
总出行时间: 40586.91 车辆-小时
找到改进解!

--- 迭代 42 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46532
相对对偶间隙: 0.008167
找到最优步长: 0.021319
目标函数: 25299.48
总出行时间: 40591.89 车辆-小时
找到改进解!

--- 迭代 43 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46522
相对对偶间隙: 0.009318
找到最优步长: 0.028437
目标函数: 25294.10
总出行时间: 40578.98 车辆-小时
找到改进解!

--- 迭代 44 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46510
相对对偶间隙: 0.007456
找到最优步长: 0.017908
目标函数: 25291.40
总出行时间: 40585.75 车辆-小时
找到改进解!

--- 迭代 45 ---
辅助流量模式总流量: 46100
当前流量模式总流量: 46503
相对对偶间隙: 0.008616
找到最优步长: 0.013296
目标函数: 25289.07
总出行时间: 40567.78 车辆-小时
找到改进解!
目标函数变化收敛: 0.000092 < 0.0001

最终结果:
总出行时间: 40567.78 车辆-小时
最佳总出行时间: 40567.78 车辆-小时

============================================================
Test 5 - Frank-Wolfe 分配结果
============================================================
总出行时间: 40567.78 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2425         1800     1.35     1.84        
AE       1275         1800     0.71     0.97        
BA       1550         1800     0.86     1.15        
BC       2720         3600     0.76     0.51        
BF       2317         3600     0.64     0.45        
CB       2055         3600     0.57     0.41        
CD       1727         1800     0.96     1.28        
CG       360          1800     0.20     0.48        
DC       1132         1800     0.63     0.88        
DH       552          1800     0.31     0.57        
EA       750          1800     0.42     0.67        
EF       1755         1800     0.97     1.30        
EI       520          1800     0.29     0.55        
FB       1907         3600     0.53     0.39        
FE       1138         1800     0.63     0.89        
FG       2949         3600     0.82     0.55        
FJ       1205         3600     0.33     0.30        
GC       190          1800     0.11     0.41        
GF       2046         3600     0.57     0.41        
GH       1893         1800     1.05     1.40        
GK       1349         1800     0.75     1.02        
HD       357          1800     0.20     0.48        
HG       1228         1800     0.68     0.94        
HL       1420         1800     0.79     1.07        
IE       212          1800     0.12     0.42        
IJ       1420         1800     0.79     1.07        
JF       1082         3600     0.30     0.28        
JI       912          1800     0.51     0.76        
JK       1731         1800     0.96     1.28        
KG       941          1800     0.52     0.77        
KJ       1200         1800     0.67     0.93        
KL       1980         1800     1.10     1.47        
LH       959          1800     0.53     0.78        
LK       1241         1800     0.69     0.95        
总分配流量: 46498 辆/小时
总交通需求: 12700 辆/小时

使用的路径:
路径 1: A->B->C->G->H->L
  流量: 502 辆/小时, 行程时间: 5.30 小时
路径 2: A->B->C->G->K->L
  流量: 492 辆/小时, 行程时间: 5.32 小时
路径 3: A->B->C->D->H->L
  流量: 520 辆/小时, 行程时间: 5.27 小时
路径 4: A->B->F->G->H->L
  流量: 498 辆/小时, 行程时间: 5.31 小时
路径 5: A->B->F->G->K->L
  流量: 488 辆/小时, 行程时间: 5.33 小时
路径 6: L->K->G->F->B->A
  流量: 306 辆/小时, 行程时间: 3.68 小时
路径 7: L->K->G->F->E->A
  流量: 302 辆/小时, 行程时间: 3.69 小时
路径 8: L->K->G->C->B->A
  流量: 300 辆/小时, 行程时间: 3.70 小时
路径 9: L->K->J->F->B->A
  流量: 298 辆/小时, 行程时间: 3.70 小时
路径 10: L->K->J->F->E->A
  流量: 294 辆/小时, 行程时间: 3.72 小时
路径 11: A->B->C->D
  流量: 1200 辆/小时, 行程时间: 3.63 小时
路径 12: D->C->B->A
  流量: 800 辆/小时, 行程时间: 2.45 小时
路径 13: E->F->G->H
  流量: 1000 辆/小时, 行程时间: 3.25 小时
路径 14: H->G->F->E
  流量: 600 辆/小时, 行程时间: 2.24 小时
路径 15: I->J->K->L
  流量: 900 辆/小时, 行程时间: 3.82 小时
路径 16: L->K->J->I
  流量: 700 辆/小时, 行程时间: 2.63 小时
路径 17: B->F->G->K
  流量: 367 辆/小时, 行程时间: 2.02 小时
路径 18: B->F->J->K
  流量: 364 辆/小时, 行程时间: 2.03 小时
路径 19: B->C->G->K
  流量: 370 辆/小时, 行程时间: 2.01 小时
路径 20: K->G->C->B
  流量: 299 辆/小时, 行程时间: 1.59 小时
路径 21: K->G->F->B
  流量: 304 辆/小时, 行程时间: 1.57 小时
路径 22: K->J->F->B
  流量: 297 辆/小时, 行程时间: 1.60 小时
路径 23: C->G->F->J
  流量: 394 辆/小时, 行程时间: 1.19 小时
路径 24: C->B->F->J
  流量: 406 辆/小时, 行程时间: 1.16 小时
路径 25: J->F->B->C
  流量: 360 辆/小时, 行程时间: 1.19 小时
路径 26: J->F->G->C
  流量: 340 辆/小时, 行程时间: 1.24 小时
✅ 路径流量总和(12700)与总交通需求(12700)匹配良好

收敛迭代次数: 45

================================================================================
三种交通分配算法对比分析
================================================================================

算法性能对比:
算法名称                      总出行时间(车辆-小时)              计算复杂度           收敛性       
--------------------------------------------------------------------------------
全有全无分配                    62700.32                  低               不收敛       
增量分配                      40941.02                  中               部分收敛      
Frank-Wolfe均衡             40567.78                  高               收敛        

效率提升分析:
增量分配相比全有全无分配提升: 34.70%
Frank-Wolfe相比全有全无分配提升: 35.30%
Frank-Wolfe相比增量分配提升: 0.91%
✅ Frank-Wolfe达到预期效果，优于增量分配

================================================================================
开始运行测试用例 6
================================================================================
成功加载路网: 6个节点, 10条路段
成功加载交通需求: 4个OD对
总交通需求: 4400 辆/小时
执行全有全无分配...

============================================================
Test 6 - All-or-Nothing 分配结果
============================================================
总出行时间: 17377.78 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2000         1800     1.11     1.49        
BA       1000         1800     0.56     0.81        
BC       2800         1800     1.56     2.18        
BE       600          1800     0.33     0.59        
CB       1600         1800     0.89     1.19        
CD       2000         1800     1.11     1.49        
CF       800          1800     0.44     0.70        
DC       1000         1800     0.56     0.81        
EB       800          1800     0.44     0.70        
FC       600          1800     0.33     0.59        
总分配流量: 13200 辆/小时
总交通需求: 4400 辆/小时

使用的路径:
路径 1: A->B->C->D
  流量: 2000 辆/小时, 行程时间: 5.15 小时
路径 2: D->C->B->A
  流量: 1000 辆/小时, 行程时间: 2.80 小时
路径 3: E->B->C->F
  流量: 800 辆/小时, 行程时间: 3.57 小时
路径 4: F->C->B->E
  流量: 600 辆/小时, 行程时间: 2.37 小时
✅ 路径流量总和(4400)与总交通需求(4400)匹配良好
执行增量分配，分4步加载...

============================================================
Test 6 - Incremental 分配结果
============================================================
总出行时间: 17377.78 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2000         1800     1.11     1.49        
BA       1000         1800     0.56     0.81        
BC       2800         1800     1.56     2.18        
BE       600          1800     0.33     0.59        
CB       1600         1800     0.89     1.19        
CD       2000         1800     1.11     1.49        
CF       800          1800     0.44     0.70        
DC       1000         1800     0.56     0.81        
EB       800          1800     0.44     0.70        
FC       600          1800     0.33     0.59        
总分配流量: 13200 辆/小时
总交通需求: 4400 辆/小时

使用的路径:
路径 1: A->B->C->D
  流量: 2000 辆/小时, 行程时间: 5.15 小时
路径 2: D->C->B->A
  流量: 1000 辆/小时, 行程时间: 2.80 小时
路径 3: E->B->C->F
  流量: 800 辆/小时, 行程时间: 3.57 小时
路径 4: F->C->B->E
  流量: 600 辆/小时, 行程时间: 2.37 小时
✅ 路径流量总和(4400)与总交通需求(4400)匹配良好
执行Frank-Wolfe用户均衡分配...
执行全有全无分配...
初始总出行时间: 17377.78 车辆-小时

--- 迭代 1 ---
辅助流量模式总流量: 13200
当前流量模式总流量: 13200
相对对偶间隙: 0.000000
找到最优步长: 0.999967
目标函数: 10108.64
总出行时间: 17377.78 车辆-小时

--- 迭代 2 ---
辅助流量模式总流量: 13200
当前流量模式总流量: 13200
相对对偶间隙: 0.000000
找到最优步长: 0.999967
目标函数: 10108.64
总出行时间: 17377.78 车辆-小时

--- 迭代 3 ---
辅助流量模式总流量: 13200
当前流量模式总流量: 13200
相对对偶间隙: 0.000000
找到最优步长: 0.999967
目标函数: 10108.64
总出行时间: 17377.78 车辆-小时

--- 迭代 4 ---
辅助流量模式总流量: 13200
当前流量模式总流量: 13200
相对对偶间隙: 0.000000
找到最优步长: 0.999967
目标函数: 10108.64
总出行时间: 17377.78 车辆-小时

--- 迭代 5 ---
辅助流量模式总流量: 13200
当前流量模式总流量: 13200
相对对偶间隙: 0.000000
算法在 5 次迭代后收敛

最终结果:
总出行时间: 17377.78 车辆-小时
最佳总出行时间: 17377.78 车辆-小时

============================================================
Test 6 - Frank-Wolfe 分配结果
============================================================
总出行时间: 17377.78 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       2000         1800     1.11     1.49        
BA       1000         1800     0.56     0.81        
BC       2800         1800     1.56     2.18        
BE       600          1800     0.33     0.59        
CB       1600         1800     0.89     1.19        
CD       2000         1800     1.11     1.49        
CF       800          1800     0.44     0.70        
DC       1000         1800     0.56     0.81        
EB       800          1800     0.44     0.70        
FC       600          1800     0.33     0.59        
总分配流量: 13200 辆/小时
总交通需求: 4400 辆/小时

使用的路径:
路径 1: A->B->C->D
  流量: 2000 辆/小时, 行程时间: 5.15 小时
路径 2: D->C->B->A
  流量: 1000 辆/小时, 行程时间: 2.80 小时
路径 3: E->B->C->F
  流量: 800 辆/小时, 行程时间: 3.57 小时
路径 4: F->C->B->E
  流量: 600 辆/小时, 行程时间: 2.37 小时
✅ 路径流量总和(4400)与总交通需求(4400)匹配良好

收敛迭代次数: 5

================================================================================
三种交通分配算法对比分析
================================================================================

算法性能对比:
算法名称                      总出行时间(车辆-小时)              计算复杂度           收敛性       
--------------------------------------------------------------------------------
全有全无分配                    17377.78                  低               不收敛       
增量分配                      17377.78                  中               部分收敛      
Frank-Wolfe均衡             17377.78                  高               收敛        

效率提升分析:
增量分配相比全有全无分配提升: 0.00%
Frank-Wolfe相比全有全无分配提升: 0.00%
Frank-Wolfe相比增量分配提升: 0.00%
ℹ️ Frank-Wolfe与增量分配结果相近

================================================================================
开始运行测试用例 7
================================================================================
成功加载路网: 4个节点, 8条路段
成功加载交通需求: 4个OD对
总交通需求: 4200 辆/小时
执行全有全无分配...

============================================================
Test 7 - All-or-Nothing 分配结果
============================================================
总出行时间: 10394.44 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       0            1800     0.00     0.33        
AD       1500         1800     0.83     1.12        
BA       0            1800     0.00     0.33        
BC       1200         1800     0.67     0.93        
CB       600          1800     0.33     0.59        
CD       2100         1800     1.17     1.56        
DA       900          1800     0.50     0.75        
DC       2100         1800     1.17     1.56        
总分配流量: 8400 辆/小时
总交通需求: 4200 辆/小时

使用的路径:
路径 1: A->D->C
  流量: 1500 辆/小时, 行程时间: 2.69 小时
路径 2: B->C->D
  流量: 1200 辆/小时, 行程时间: 2.49 小时
路径 3: C->D->A
  流量: 900 辆/小时, 行程时间: 2.31 小时
路径 4: D->C->B
  流量: 600 辆/小时, 行程时间: 2.16 小时
✅ 路径流量总和(4200)与总交通需求(4200)匹配良好
执行增量分配，分4步加载...

============================================================
Test 7 - Incremental 分配结果
============================================================
总出行时间: 7269.44 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1050         1800     0.58     0.84        
AD       1350         1800     0.75     1.02        
BA       1050         1800     0.58     0.84        
BC       1350         1800     0.75     1.02        
CB       750          1800     0.42     0.67        
CD       1050         1800     0.58     0.84        
DA       750          1800     0.42     0.67        
DC       1050         1800     0.58     0.84        
总分配流量: 8400 辆/小时
总交通需求: 4200 辆/小时

使用的路径:
路径 1: A->D->C
  流量: 750 辆/小时, 行程时间: 1.86 小时
路径 2: B->C->D
  流量: 600 辆/小时, 行程时间: 1.86 小时
路径 3: C->B->A
  流量: 450 辆/小时, 行程时间: 1.50 小时
路径 4: D->A->B
  流量: 300 辆/小时, 行程时间: 1.50 小时
路径 5: A->B->C
  流量: 750 辆/小时, 行程时间: 1.86 小时
路径 6: B->A->D
  流量: 600 辆/小时, 行程时间: 1.86 小时
路径 7: C->D->A
  流量: 450 辆/小时, 行程时间: 1.50 小时
路径 8: D->C->B
  流量: 300 辆/小时, 行程时间: 1.50 小时
✅ 路径流量总和(4200)与总交通需求(4200)匹配良好
执行Frank-Wolfe用户均衡分配...
执行全有全无分配...
初始总出行时间: 10394.44 车辆-小时

--- 迭代 1 ---
辅助流量模式总流量: 8400
当前流量模式总流量: 8400
相对对偶间隙: 0.507750
找到最优步长: 0.500013
目标函数: 4856.48
总出行时间: 7269.44 车辆-小时
找到改进解!

--- 迭代 2 ---
辅助流量模式总流量: 8400
当前流量模式总流量: 8400
相对对偶间隙: 0.000009
找到最优步长: 0.000033
目标函数: 4856.48
总出行时间: 7269.44 车辆-小时
找到改进解!

--- 迭代 3 ---
辅助流量模式总流量: 8400
当前流量模式总流量: 8400
相对对偶间隙: 0.000003
找到最优步长: 0.000033
目标函数: 4856.48
总出行时间: 7269.44 车辆-小时

--- 迭代 4 ---
辅助流量模式总流量: 8400
当前流量模式总流量: 8400
相对对偶间隙: 0.000009
找到最优步长: 0.000033
目标函数: 4856.48
总出行时间: 7269.44 车辆-小时

--- 迭代 5 ---
辅助流量模式总流量: 8400
当前流量模式总流量: 8400
相对对偶间隙: 0.000003
算法在 5 次迭代后收敛

最终结果:
总出行时间: 7269.44 车辆-小时
最佳总出行时间: 7269.44 车辆-小时

============================================================
Test 7 - Frank-Wolfe 分配结果
============================================================
总出行时间: 7269.44 车辆-小时

路段流量分布:
路段       流量(辆/小时)     容量       饱和度      行程时间(小时)    
------------------------------------------------------------
AB       1050         1800     0.58     0.84        
AD       1350         1800     0.75     1.02        
BA       1050         1800     0.58     0.84        
BC       1350         1800     0.75     1.02        
CB       750          1800     0.42     0.67        
CD       1050         1800     0.58     0.84        
DA       750          1800     0.42     0.67        
DC       1050         1800     0.58     0.84        
总分配流量: 8400 辆/小时
总交通需求: 4200 辆/小时

使用的路径:
路径 1: A->B->C
  流量: 750 辆/小时, 行程时间: 1.86 小时
路径 2: A->D->C
  流量: 750 辆/小时, 行程时间: 1.86 小时
路径 3: B->A->D
  流量: 600 辆/小时, 行程时间: 1.86 小时
路径 4: B->C->D
  流量: 600 辆/小时, 行程时间: 1.86 小时
路径 5: C->B->A
  流量: 450 辆/小时, 行程时间: 1.50 小时
路径 6: C->D->A
  流量: 450 辆/小时, 行程时间: 1.50 小时
路径 7: D->C->B
  流量: 300 辆/小时, 行程时间: 1.50 小时
路径 8: D->A->B
  流量: 300 辆/小时, 行程时间: 1.50 小时
✅ 路径流量总和(4200)与总交通需求(4200)匹配良好

收敛迭代次数: 5

================================================================================
三种交通分配算法对比分析
================================================================================

算法性能对比:
算法名称                      总出行时间(车辆-小时)              计算复杂度           收敛性       
--------------------------------------------------------------------------------
全有全无分配                    10394.44                  低               不收敛       
增量分配                      7269.44                   中               部分收敛      
Frank-Wolfe均衡             7269.44                   高               收敛        

效率提升分析:
增量分配相比全有全无分配提升: 30.06%
Frank-Wolfe相比全有全无分配提升: 30.06%
Frank-Wolfe相比增量分配提升: -0.00%
ℹ️ Frank-Wolfe与增量分配结果相近
